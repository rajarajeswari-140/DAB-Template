resources:
  alerts:
    silver_zero_rows_alert:
      display_name: "Silver layer rowcount is zero"
      query_text: |
        SELECT COUNT(*) AS cnt
        FROM v4c.silver.sf_fire_calls_silver
      warehouse_id: ${var.sql_warehouse_id}   # pass via target variables
      evaluation:
        comparison_operator: "EQUAL"          # cnt == 0 triggers
        source:
          name: "cnt"
          display: "Rows"
          aggregation: "MAX"
        threshold:
          value:
            double_value: 0
        notification:
          notify_on_ok: true
          retrigger_seconds: 3600
          subscriptions:
            - user_email: "rajarajeswari.s.s@v4c.ai"
            # or destination_id for webhooks/slack/etc.
        
      schedule:
              quartz_cron_schedule: "0 0/30 * * * ?" # every 30 min
              timezone_id: "UTC"
              pause_status: "UNPAUSED"


